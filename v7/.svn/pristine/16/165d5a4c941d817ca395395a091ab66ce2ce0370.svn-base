define("mods/pl/active/inflance",function(require){require("lib"),require("mods/view/toTop");require("mods/view/blogInflance");var e=require("mods/view/shareToWeibo");e()});
define("mods/view/toTop",function(require,o,i){var t=require("lib"),e=require("lib/mvc/view"),s=require("mods/kit/fx/smoothScrollTo"),c=t(window),l=e.extend({defaults:{node:null},events:{'[role="button"] click':"scrollToTop",'[role="close"] click':"close"},build:function(){this.check()},setEvents:function(o){c[o]("scroll",this.proxy("check"))},check:function(){if(!this.disabled){var o=c.scrollTop();o>0?this.show():this.hide()}},close:function(){this.disabled=!0,this.setEvents("off"),this.hide()},show:function(){this.role("root").show()},hide:function(){this.role("root").hide()},scrollToTop:function(){s(document.body,{callback:this.proxy("check")})}});i.exports=l});
define("mods/view/blogInflance",function(require){var e=require("lib"),t=require("lib/mvc/view"),a=(require("mods/trans/rankList"),require("mods/tpl/blogInflance")),n=require("lib/kit/str/easyTemplate"),r=require("mods/tpl/errMess"),o=e(window),i=t.extend({defaults:{node:document.body,weekNumber:"",month:"",year:"",oDate:null,now:1,media:1,dataSpace:null,pageNow:1,getTimeYet:!1},events:{'[node="reload"] click':"reload",'[node="list-button"] li click':"channel",'[node="week-button"] click':"getWeek",'[node="month-button"] click':"getMonth",'[node="page_one"] click':"pageOne",'[node="page_two"] click':"pageTwo",'[node="prev"] click':"pagePrev",'[node="next"] click':"pageNext",'[node="share-suda"] click':"shareSuda"},myBrowser:function(){{var e=navigator.userAgent,t=e.indexOf("Opera")>-1,a=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t,n=e.indexOf("Firefox")>-1;e.indexOf("Safari")>-1}if(a){var r=(IE55=IE6=IE7=IE8=!1,new RegExp("MSIE (\\d+\\.\\d+);"));r.test(e);var o=parseFloat(RegExp.$1);if(IE55=5.5==o,IE6=6==o,IE7=7==o,IE8=8==o,IE55)return"IE55";if(IE6)return"IE6";if(IE7)return"IE7";if(IE8)return"IE8"}return n?"FF":t?"Opera":void 0},shareSuda:function(t){var a=this;a.v7sendLog(e(t.target).data("suda"))},setEvents:function(e){o[e]("scroll",this.proxy("check"))},check:function(){var t=this.myBrowser();"IE55"!==t&&"IE6"!==t&&"IE7"!==t&&(o.scrollTop()>47?e('[node="bmediaList"]').addClass("Bmedialist1"):e('[node="bmediaList"]').removeClass("Bmedialist1"))},pageOne:function(t){t.preventDefault();var r=this;r.pageNow=1,r.contentBox=n(a,r.arr.arr1).toString(),e('[node="list-box"]').html(this.contentBox),e('[node="page_one"]').addClass("cur"),e('[node="page_two"]').removeClass("cur")},pageTwo:function(t){t.preventDefault();var r=this;r.pageNow=2,r.contentBox=n(a,r.arr.arr2).toString(),e('[node="list-box"]').html(this.contentBox),e('[node="page_two"]').addClass("cur"),e('[node="page_one"]').removeClass("cur")},pagePrev:function(t){t.preventDefault();var r=this;r.pageNow<=1||(r.pageNow--,r.contentBox=n(a,r.arr.arr1).toString(),e('[node="list-box"]').html(this.contentBox),e('[node="page_one"]').addClass("cur"),e('[node="page_two"]').removeClass("cur"))},pageNext:function(t){t.preventDefault();var r=this;r.pageNow>1||(r.pageNow++,r.contentBox=n(a,r.arr.arr2).toString(),e('[node="list-box"]').html(this.contentBox),e('[node="page_two"]').addClass("cur"),e('[node="page_one"]').removeClass("cur"))},reload:function(e){e.preventDefault(),window.location.reload()},build:function(){this.getWeek()},render:function(t){var r=this;r.contentBox=n(a,t).toString(),e('[node="list-box"]').html(this.contentBox)},renderErr:function(){e('[node="list-box"]').html(""),e('[node="list-box"]').html(r)},getTime:function(t,a){var n=this;e.ajax({url:"http://msg.video.sina.com.cn/getSystemTime.php",type:"GET",dataType:"jsonp",success:function(r){function o(e){var t=e.replace(/:/g,"-");t=t.replace(/ /g,"-");var a=t.split("-"),n=new Date(Date.UTC(a[0],a[1]-1,a[2],a[3]-8,a[4],a[5]));return parseInt(n.getTime()/1e3)}var i=r.data,s=o(i);n.oDate=new Date,n.oDate.setTime(1e3*s);var d=n.weekofyear(n.oDate.getFullYear(),n.oDate.getMonth()+1,n.oDate.getDate());n.month=n.oDate.getDate()>1?n.oDate.getMonth():n.oDate.getMonth()-1,n.weekNumber=n.oDate.getDay()>0&&n.oDate.getDay<=2?d-2:d-1,n.year=""+n.oDate.getFullYear();var u={};n.getTimeYet=!0,1===n.now?u={week:n.weekNumber,year:n.year}:2===n.now&&(u={month:n.month,year:n.year}),u=e.extend(t,u),a(u,n)},err:function(){n.oDate=new Date,n.weekNumber=n.weekofyear(data.data),n.weekMonth=oDate.getMonth()+1,n.year=""+oDate.getFullYear();var r={};n.getTimeYet=!0,1===n.now?r={week:n.weekNumber,year:n.year}:2===n.now&&(r={moth:n.moth,year:n.year}),r=e.extend(t,daraNow),a(r,n)}})},v7sendLog:function(t,a,n){return t?("undefined"==typeof scope&&(window.scope={},scope.$pageid=""),a=a||scope.$pageid,n=n||"",e.ajax({url:"http://hits.sinajs.cn/A2/b.html",data:{type:t},dataType:"jsonp",success:function(){}}),void 0):!1},channel:function(t){var a=this;t.preventDefault(),a.conf.media=e(t.target).data("media"),e('[node="list-button"] li a').removeClass("cur"),e(t.target).addClass("cur");var n={};1===a.now?n={week:a.weekNumber,year:a.year}:2===a.now&&(n={month:a.month,year:a.year});var r={type:a.now,media_type:a.conf.media};n=e.extend(r,n),a.getTimeYet?a.getData(n,a):a.getTime(r,a.getData),a.v7sendLog(e(t.target).data("suda"))},getMonth:function(){var t=this;t.now=2,e('[node="week-button"] a').removeClass("cur"),e('[node="month-button"] a').addClass("cur");var a={type:2,media_type:t.conf.media,month:t.month,year:t.year};t.getTimeYet?t.getData(a,t):t.getTime(a,t.getData)},getWeek:function(){var t=this;t.now=1,e('[node="month-button"] a').removeClass("cur"),e('[node="week-button"] a').addClass("cur");var a={type:1,media_type:t.conf.media,week:t.weekNumber,year:t.year};t.getTimeYet?t.getData(a,t):t.getTime(a,t.getData)},weekofyear:function(e,t,a){function n(e){return e%400==0||e%4==0&&e%100!=0}function r(e,t){return[31,null,31,30,31,30,31,31,30,31,30,31][t]||(n(e)?29:28)}for(var o=new Date(e,t-1,a),i=o.getFullYear(),s=o.getMonth(),d=o.getDate(),u=0;s>u;u++)d+=r(i,u);var c=new Date(i,0,1).getDay()||7,l=null;return 1==c?l=Math.ceil(d/c):(d-=7-c+1,l=Math.ceil(d/7)+1),l},getData:function(t,a){e.ajax({url:"http://interface.blog.sina.com.cn/riaapi/mediaInfluence/getMediaInfluence.php",type:"GET",dataType:"jsonp",data:t,cache:!1,success:function(e){a.render(a.makeArr(e,a))},err:function(){a.renderErr()}})},makeArr:function(e,t){t.arr=[];var a=[];for(x in e.result.data)a.push(e.result.data[x]);for(var n=0;n<a.length;n++)a[n].influenceChange=a[n].lastweekrank-a[n].outputrank,a[n].changeNumber=Math.abs(a[n].influenceChange,10),a[n].weibopower=this.influenceFn(a[n].weiboinfluence),a[n].blogpower=this.influenceFn(a[n].bloginfluence),a[n].weixinpower=this.influenceFn(a[n].weixininfluence),a[n].meidanewname=this.setNameLength(a[n].medianame),a[n].meidanewid=this.setIdLength(a[n].weixinid),a[n].indexNum=n+1;if(a.length>50){a.arr1=[],a.arr1.firstDate=!0;for(var n=0;50>n;n++)a.arr1.push(a.shift());t.arr.arr1=a.arr1,t.arr.arr1.more=!0;for(var n=0;n<a.length;n++)a[n].indexNum=n+51;return a.arr2=a,t.arr.arr2=a.arr2,t.arr.arr2.firstDate=!1,t.arr.arr2.more=!0,a.arr1}return a.firstDate=!0,a.more=!1,a},setNameLength:function(e){if(e.length>6){var e=e.substring(0,6);return e+"..."}return e},setIdLength:function(e){if(e.length>8){var e=e.substring(0,8);return e+"..."}return e},influenceFn:function(e){return 100>=e&&e>=91?1:90>=e&&e>=81?2:80>=e&&e>=71?3:70>=e&&e>=61?4:60>=e&&e>=51?5:50>=e&&e>=41?6:40>=e&&e>=31?7:30>=e&&e>=21?8:20>=e&&e>=11?9:10>=e&&e>=1?10:void 0}});new i});
define("mods/view/shareToWeibo",function(require,e,t){var o=require("lib"),i=require("lib/mvc/view"),n=window.location.href,a=i.extend({defaults:{node:document.body,ralateUid:"3839222393",width:615,height:505},events:{'[role="shareTo-weibo"] click':"shareTo"},shareTo:function(e){e.preventDefault();var t=o(e.currentTarget);console.log(n),window.open(["http://service.weibo.com/share/share.php?url=",n,"&appkey=&title=",t.attr("data-title"),"(组图)&pic=",encodeURIComponent(t.attr("data-src")),"&language=zh_cn"].join(""),"_blank","width="+this.conf.width+",height="+this.conf.height)}});t.exports=function(e){return new a(e)}});
define("mods/kit/fx/smoothScrollTo",function(require,o,l){var n=require("lib"),t=function(o,l){var t,c=n.extend({delta:0,callback:n.noop},l),e=n(o).offset(),a=e.top+c.delta,i=c.callback,r=3,f=setInterval(function(){var o=n(window).scrollTop(),l=o-a;l>0?l=Math.floor(.8*l):0>l&&(l=Math.ceil(.8*l));var c=a+l;c===t&&r--,t=c,window.scrollTo(0,c),(c===a||0>=r)&&s()},16),s=function(){f&&(clearInterval(f),f=null,window.scrollTo(0,a),n.isFunction(i)&&i())};setTimeout(function(){s()},3e3)};l.exports=t});
define("mods/trans/rankList",function(require,e,n){var t=require("mods/common/getTransmission"),a=t();a.register("getBlogInfluence",{url:"http://interface.blog.sina.com.cn/riaapi/mediaInfluence/getMediaInfluence.php",type:"GET",dataType:"jsonp"}),a.register("getAlbumsInfo",{url:"/api/album/user",type:"GET"}),n.exports=a});
define("mods/tpl/blogInflance",function(require,i,s){s.exports=["<#et tpl data>","<ul>","<#list data as list>","<li>","<#if (data.firstDate)>","<#if (list_index == 0)>",'<div class="li li1 iconcolor_1"><span class="icon_list icon_1"></span>1</div>',"<#elseif (list_index == 1)>",'<div class="li li1 iconcolor_2"><span class="icon_list icon_2"></span>2</div>',"<#elseif (list_index == 2)>",'<div class="li li1 iconcolor_3"><span class="icon_list icon_3"></span>3</div>',"<#else>",'<div class="li li1">${list.indexNum}</div>',"</#if>","<#else>",'<div class="li li1">${list.indexNum}</div>',"</#if>",'<div class="li li2">${list.meidanewname}</div>','<div class="li li3">','<span class="greybar"></span>',"</div>",'<div class="li li4">${list.influence}</div>','<div class="li li5">',"<#if (list.weibopower > 0)>",'<a class="color_${list.weibopower}" target="_blank" href="http://weibo.com/u/${list.weibouid}">','<div class="bar">','<div class="barin"></div>','<div class="size">${list.weiboinfluence}</div>',"</div>",'<div class="txt">微博主页</div>',"</a>","<#else>",'<span class="greybar_1"></span>',"</#if>","</div>",'<div class="li li5">',"<#if (list.weixinpower > 0)>",'<a class="color_${list.weixinpower}" href="#">','<div class="bar">','<div class="barin"></div>','<div class="size">${list.weixininfluence}</div>',"</div>","</a>",'<div class="txt_1">ID：${list.meidanewid}</div>',"<#else>",'<span class="greybar_1"></span>',"</#if>","</div>",'<div class="li li5">',"<#if (list.blogpower > 0)>",'<a class="color_${list.blogpower}" target="_blank" href="http://blog.sina.com.cn/u/${list.bloguid}">','<div class="bar">','<div class="barin"></div>','<div class="size">${list.bloginfluence}</div>',"</div>",'<div class="txt">博客主页</div>',"</a>","<#else>",'<span class="greybar_1"></span>',"</#if>","</div>","</li>","</#list>","</ul>","<#if (data.more)>",'<div class="pages"><a class="page disable" node="prev" href="#">上一页</a>','<a class="cur" node="page_one" href="#">1</a>','<a href="#" node="page_two">2</a>','<a class="page" node="next" href="#">下一页</a></div>',"</div>","<#else>","</#if>","</#et>"].join("")});
define("lib/kit/str/easyTemplate",function(require,e,t){var a=function(e,t){if(!e)return"";e!==a.template&&(a.template=e,a.aStatement=a.parsing(a.separate(e)));var r=a.aStatement,n=function(e){return e&&(t=e),arguments.callee};return n.toString=function(){return new Function(r[0],r[1])(t)},n};a.separate=function(e){var t=/\\'/g,a=e.replace(/(<(\/?)#(.*?(?:\(.*?\))*)>)|(')|([\r\n\t])|(\$\{([^\}]*?)\})/g,function(e,a,r,n,s,i,u,p){return a?"{|}"+(r?"-":"+")+n+"{|}":s?"\\'":i?"":u?"'+("+p.replace(t,"'")+")+'":void 0});return a},a.parsing=function(e){var t,a,r,n,s,i,u=["var aRet = [];"];i=e.split(/\{\|\}/);for(var p=/\s/;i.length;)if(r=i.shift())if(s=r.charAt(0),"+"===s||"-"===s)switch(n=r.split(p),n[0]){case"+et":t=n[1],a=n[2],u.push('aRet.push("<!--'+t+' start-->");');break;case"-et":u.push('aRet.push("<!--'+t+' end-->");');break;case"+if":n.splice(0,1),u.push("if"+n.join(" ")+"{");break;case"+elseif":n.splice(0,1),u.push("}else if"+n.join(" ")+"{");break;case"-if":u.push("}");break;case"+else":u.push("}else{");break;case"+list":u.push("if("+n[1]+".constructor === Array){with({i:0,l:"+n[1]+".length,"+n[3]+"_index:0,"+n[3]+":null}){for(i=l;i--;){"+n[3]+"_index=(l-i-1);"+n[3]+"="+n[1]+"["+n[3]+"_index];");break;case"-list":u.push("}}}")}else r="'"+r+"'",u.push("aRet.push("+r+");");return u.push('return aRet.join("");'),a||u.unshift("var data = arguments[0];"),[a,u.join("")]},t.exports=a});
define("mods/tpl/errMess",function(require,a,i){i.exports='<li class="li_tryagain"><div class="tryagain">读取数据失败，请<a href="#" node="reload" >重试</a></div></li>'});
define("mods/common/getTransmission",function(require,o,n){var t=require("lib/common/transmission"),r=require("lib/kit/obj/find"),s=require("mods/common/alert"),e=require("mods/common/log");n.exports=function(){return new t({verify:function(o,n,t){var u=!1,i=r(o,"result.status"),m=r(o,"result.data"),c=function(r){e(r,"url:",n.url,"rs:",o,"conf:",n,"options:",t)};return i&&m?0===i.code?u=!0:(n.autoExecuteError&&(i.msg?s(i.msg):s("系统繁忙")),c("接口返回数据 status.code 不为 0 。")):(n.autoExecuteError&&s("系统繁忙"),c("接口返回数据格式不正确。")),u}})}});
define("lib/common/transmission",function(require,t,n){var s=require("lib"),r=require("lib/common/transport"),o=function(t){this._transports={},this.conf=s.extend({},t)};o.prototype={register:function(t,n){this._transports[t]||(n=s.extend({name:t},this.conf,n),this._transports[t]=new r(n))},remove:function(){this._transports[name]&&(this._transports[name].destroy(),delete this._transports[name])},request:function(t,n){var s=this._transports[t];return s?s.request(n):void 0},destroy:function(){s.each(this._transports,function(t,n){n.destroy()})}},n.exports=o});
define("lib/kit/obj/find",function(require,i,n){n.exports=function(i,n){if(n=n||"",!n)return i;if(i){for(var t,f=n.split("."),r=i;f.length;){if(t=f.shift(),!r[t])return r[t];r=r[t]}return r}}});
define("mods/common/alert",function(require,e,t){var n=require("lib"),o=require("mods/dialog/reuse"),a={};a.dialog=['<div class="msg_tit_box psfx msg_tit_box_alert">','<h2 class="clearfix">','<span class="fl" role="title"></span>','<a class="fr" href="javascript:;" data-action="cancel"></a>',"</h2>",'<div class="cont" role="content"></div>','<div class="clearfix msg_btns">','<a class="sure opc_btn fl sure_alert" href="javascript:;" data-action="ok" role="ok">确定</a>',"</div>","</div>"];var l=o({template:a.dialog,target:"screen",parent:null,mask:!0,styles:{"z-index":"10000",position:"absolute","margin-left":0,"margin-top":0,display:"none"}});t.exports=function(e,t){!t&&n.isPlainObject(e)?t=e:(t=t||{},t.content=e);var o=n.extend({title:"提示",styleOk:"确定",relativeLayer:null,ok:n.noop,cancel:null},t),a=l.get();a.role("title").html(o.title),a.role("content").html(o.content),a.role("ok").html(o.styleOk),a.on("ok",o.ok),"function"===n.type(o.cancel)?a.on("cancel",o.cancel):a.on("cancel",o.ok);var i=o.relativeLayer,c=function(){i&&n.isFunction(i.show)&&i.show()},s=function(){i&&n.isFunction(i.hide)&&i.hide()};a.on("ok",function(){c(),a.hide()}),a.on("cancel",function(){c(),a.hide()}),a.show(),s()}});
define("mods/common/log",function(require,n,o){var i=require("lib"),l=window.console,e=window.AipaiLogs=[];o.exports=function(){var n=[].slice.call(arguments);n.unshift("["+new Date+"]"),l&&l.log&&"function"===i.type(l.log)&&l.log.apply(l,n),e.unshift(n),e.length>100&&(e.length=100)}});
define("lib/common/transport",function(require,t,e){var i=require("lib"),c=require("lib/kit/env/network"),n=function(){var t=function(){var t=this.xhr,e=this.conf;t&&"jsonp"!==e.dataType&&"script"!==e.dataType&&t.abort()},e=function(){var t=this.options;t.onComplete=i.noop,t.onSuccess=i.noop,t.onFailure=i.noop},n=function(t,e){e=e||{};var i=this.options,c=e.cacheKey;c&&"cache"!==e.type&&this.conf.cache&&(this.cache[c]=t),i.onSuccess(t,e)},h=function(t,e){var i=this.options;i.onFailure(t,e)},s=function(t,c){var s=this.conf,o=this.options;c=c||{},this.requesting=!1,this.timer&&(clearTimeout(this.timer),this.timer=null),o.onComplete(t,c),c.error?o.onFailure(t,c):"function"===i.type(o.verify)?o.verify(t,s,o)?n.call(this,t,c):h.call(this,t,c):t?n.call(this,t,c):(c.error="empty",h.call(this,t,c)),e.call(this)},o=function(){var e=this.conf,n=this.options;if(!this.requesting){if(this.requesting=!0,!c.onLine())return s.call(this,null,{error:"offline"}),void 0;var h=[n.name,e.url,JSON.stringify(e.data)].join();if(this.cache[h]&&e.cache)return s.call(this,this.cache[h],{cacheKey:h,type:"cache"}),void 0;e.success=function(t,e,i){var c={type:e,xhr:i};this.conf.cache&&(c.cacheKey=h),s.call(this,t,c)}.bind(this),e.error=function(t,e,i){s.call(this,null,{error:i,type:e,xhr:t})}.bind(this),n.timeout&&(this.timer=setTimeout(function(){this.timer=null,this.requesting&&(s.call(this,null,{error:"timeout",xhr:this.xhr}),t.call(this))}.bind(this),n.timeout)),this.xhr=i.ajax(e)}},r=function(t,e){this.conf=i.extend({},t),this.options=i.extend({},e),this.cache=i.isPlainObject(e.cache)?e.cache:{},this.timer=null,this.xhr=null,o.call(this)};return r.prototype={clearCache:function(){this.cache={}},cancel:function(){this.requesting&&(s.call(this,null,{error:"cancel",xhr:this.xhr}),t.call(this))}},r}(),h={url:"",type:"POST",dataType:"json",cache:!1,jsonp:"callback",scriptCharset:"utf-8"},s={name:"",timeout:0,onComplete:i.noop,onSuccess:i.noop,onFailure:i.noop,verify:function(t){return!!t}},o=function(t){this.defaults=i.extend({},h,s,t),this.cache={}};i.extend(o.prototype,{request:function(t){var e=i.extend({},this.defaults,t),c={};return Object.keys(s).forEach(function(t){c[t]=e[t]||s[t],delete e[t]}),e.cache===!0?c.cache=this.cache:e.cache&&(c.cache=i.isPlainObject(e.cache)?e.cache:this.cache,e.cache=!0),this.req=new n(e,c),this.req},destroy:function(){this.req&&(this.req.cancel(),delete this.req)}}),e.exports=o});
define("mods/dialog/reuse",function(require,e,n){var t=require("lib"),o=require("mods/ui/dialog");n.exports=function(e){var n=[],f=5,i={},l=t.extend({},e);return i.get=function(){var e,i=t.extend({},l);return n.length?e=n.shift():(e=new o(i),e.on("hide",function(){n.length>=f?e.destroy():n.push(e)})),e.off("ok"),e.off("close"),e.off("cancel"),e.role("title").html(""),e.role("content").html(""),e},i}});
define("lib/kit/env/network",function(require,n,i){var e="onLine"in navigator;i.exports={onLine:function(){return e?navigator.onLine:!0}}});
define("mods/ui/dialog",function(require,e,t){var i=require("lib"),s=require("lib/more/position"),n=require("mods/ui/overlay"),o=require("mods/ui/screenMask"),r=require("lib/kit/arr/include"),a=require("lib/kit/arr/erase"),c=o.observed,h=n.extend({defaults:{template:'<div class="ui-dialog"></div>',target:"screen",parent:null,mask:!0,styles:{"z-index":1e4,position:"absolute",display:"none"}},events:{"[data-action] click":"action"},setEvents:function(e){this.supr(e);var t=this.proxy();this[e]("ok",t("hide")),this[e]("cancel",t("hide")),this[e]("close",t("hide")),this[e]("show",t("maskObserve")),this[e]("hide",t("maskUnobserve")),this[e]("show",t("putToTop"))},getTarget:function(){var e=this.conf;return"screen"===e.target?i(window):i(e.target)},setPosition:function(){var e=this.conf,t=this.getTarget();s.pin({element:this.role("root"),x:"50%",y:"50%"},{element:"screen"===e.target?s.VIEWPORT:t,x:"50%",y:"50%"})},action:function(e){e&&e.preventDefault&&e.preventDefault();var t=i(e.currentTarget),s=t.attr("data-action");this.trigger(s,t)},maskObserve:function(){this.conf.mask&&(r(c,this),o.check())},maskUnobserve:function(){a(c,this),o.check()},putToTop:function(){var e=this.role("root");e.appendTo(e.parent())}});t.exports=h});
define("lib/more/position",function(require,e){function t(e){e=f(e)||{},e.nodeType&&(e={element:e});var t=f(e.element)||l;if(1!==t.nodeType)throw new Error("posObject.element is invalid.");var n={element:t,x:e.x||0,y:e.y||0},o=t===l||"VIEWPORT"===t._id;return n.offset=function(){return d?{left:0,top:0}:o?{left:s(window).scrollLeft(),top:s(window).scrollTop()}:s(t).offset()},n.size=function(){var e=o?s(window):s(t);return{width:e.width(),height:e.height()}},n}function n(e){e.x=o(e.x,e,"width"),e.y=o(e.y,e,"height")}function o(e,t,n){if(e+="",e=e.replace(/px/gi,""),/\D/.test(e)&&(e=e.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==e.indexOf("%")&&(e=e.replace(/(\d+(?:\.\d+)?)%/gi,function(e,o){return t.size()[n]*(o/100)})),/[+\-*\/]/.test(e))try{e=new Function("return "+e)()}catch(o){throw new Error("Invalid position value: "+e)}return r(e)}function i(e){var t=e.offsetParent();t[0]===document.documentElement&&(t=s(document.body)),u&&t.css("zoom",1);var n=t[0]===document.body?{left:0,top:0}:t.offset();return n.top+=r(t.css("border-top-width")),n.left+=r(t.css("border-left-width")),n}function r(e){return parseFloat(e,10)||0}function f(e){return s(e)[0]}var c=e,l={_id:"VIEWPORT",nodeType:1},s=require("lib"),d=!1,u=!1;c.pin=function(e,o){e=t(e),o=t(o);var r=s(e.element);"fixed"!==r.css("position")||u?(r.css("position","absolute"),d=!1):d=!0,n(e),n(o);var f=i(r),c=o.offset(),l=c.top+o.y-e.y-f.top,p=c.left+o.x-e.x-f.left;r.css({left:p,top:l})},c.center=function(e,t){c.pin({element:e,x:"50%",y:"50%"},{element:t,x:"50%",y:"50%"})},c.VIEWPORT=l});
define("mods/ui/overlay",function(require,t,e){var i=require("lib"),s=require("lib/mvc/model"),o=require("lib/mvc/view"),n=o.extend({defaults:{template:'<div class="ui-overlay"></div>',parent:null,styles:{"z-index":1,display:"none",position:"absolute"}},build:function(){this.model=new s,this.setStyles(this.conf.styles)},setStyles:function(t){t=t||{},this.role("root").css(t)},setParent:function(){var t=this.conf,e=this.role("root"),s=e.get(0).parentNode,o=null;o=t.parent?i(t.parent).get(0):document.body,o!==s&&(e.appendTo(o),this.setPosition())},setPosition:i.noop,setEvents:function(t){this.model[t]("change:visible",this.proxy("checkVisible"))},update:function(){this.setParent(),this.setStyles(),this.setPosition()},checkVisible:function(){var t=this.role("root");this.model.get("visible")?(t.css("display","block"),this.trigger("show")):(t.css("display","none"),this.trigger("hide"))},toggle:function(){this.model.get("visible")?this.hide():this.show()},show:function(){this.model.set("visible",!0),this.update()},hide:function(){this.model.set("visible",!1)},destroy:function(){this.role("root").remove(),this.supr()}});e.exports=n});
define("mods/ui/screenMask",function(require,e,s){var i=require("lib"),o=require("mods/ui/mask"),n=i(document.body),t=new o({template:'<div class="ui-screen-mask"></div>',target:"screen",styles:{"z-index":9999,position:"fixed",width:"100%",height:"100%",opacity:"0.6",background:"#000",display:"none"}});t.observed=[],t.check=function(){this.observed.length?this.show():this.hide()};var d=0;t.on("show",function(){d=n.width(),n.css("width",d+"px"),n.css("overflow","hidden")}),t.on("hide",function(){d=0,n.css("overflow",""),n.css("width","")}),s.exports=t});
define("lib/kit/arr/include",function(require,i,n){var r=require("lib/kit/arr/contains");n.exports=function(i,n){return r(i,n)||i.push(n),i}});
define("lib/kit/arr/erase",function(require,e,i){i.exports=function(e,i){var n=e.indexOf(i);return n>=0&&e.splice(n,1),n}});
define("mods/ui/mask",function(require,t,e){var i=require("lib"),s=require("lib/more/position"),n=require("mods/ui/overlay"),o=n.extend({defaults:{template:'<div class="ui-mask"></div>',target:"screen",parent:null,styles:{"z-index":10,position:"absolute",opacity:"0.6",background:"#000",display:"none"}},setEvents:function(t){this.supr(t),i(window)[t]("resize",this.proxy("onResize"))},setStyles:function(t){var e=this.conf;if(t=t||{},"screen"===e.target)t.position="fixed",t.width="100%",t.height="100%";else{var i=this.getTarget();t.position="absolute",t.width=i.width()+"px",t.height=i.height()+"px"}this.role("root").css(t)},getTarget:function(){var t=this.conf;return"screen"===t.target?i(window):i(t.target)},setPosition:function(){var t=this.conf,e=this.getTarget();s.pin({element:this.role("root"),x:"0%",y:"0%"},{element:"screen"===t.target?s.VIEWPORT:e,x:"0%",y:"0%"})},onResize:function(){this.update()}});e.exports=o});
define("lib/kit/arr/contains",function(require,n,i){i.exports=function(n,i){var r=n.indexOf(i);return r>=0}});
define("conf/page/blog-inflance",function(require){require("mods/pl/active/inflance")});
